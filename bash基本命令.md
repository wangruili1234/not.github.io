# git

### 1 什么是shell

```
在计算机科学中,Shell俗称壳,是指"提供使用者使用界面"的软件(命令解析器),它接收用户命令,然后调用相应的应用程序;介于操作系统内核和用户之间的桥梁！！ 用户可以通过shell来操作操作系统！！
```

#### shell分类

```text
1 图形界面shell:通过提供友好的可视化界面,调用相应应用程序,如windows系统操作系统,Linux系统的图形应用程序GNOME,KDE等.
2 命令行shell:通过键盘输入特定命令的方式,调用相应的应用程序,如window系统的cmd.exe、Windows PowerShell, Linux系统的Bourne shell(sh)、Bourne Again shell(bash)等.
```

### 2 bash命令基本语法

命令名称-选项  参数

```
1 cd(change directory);
功能:改变当前所在目录;
语法:cd 文件夹路径;
~:指的是当前用户的用户根目录;等价于:/c/users/当前用户的用户名/;

2 pwd(Print Work Directory );
功能:打印当前所在目录

3 ls(list);
功能:展示当前目录下所有内容信息;
3-1 有参数的情况 (ls 文件夹路径):不切换文件夹,就直接展示指定的文件夹下的所有文件信息
3-2 有选项的情况(ls -a):将所有文件展示出来,包括隐藏文件;
3-3 ls -l :就是将

4 touch
功能:创建文件
4-1 在当前目录下创建文件 touch 文件名称
4-2 在指定目录下创建文件 touch 路径/文件名称

5 mkdir(make directory);
5-1 在当前目录下创建文件夹 touch 文件夹名称
5-2 在指定目录下创建文件 touch 路径/文件夹名称

6 rm(remove):这个删除不会进回收站
功能:删除文件
6-1 rm 文件名:删除当前目录下的文件;
6-2 rm 路径/文件名:删除指定文件夹下的文件;

rm -r 文件夹名称 命令也可以删除文件夹
rm -f -r 文件夹名称 强制递归删除
7 rmdir(remove directory):这个删除不会进回收站
功能:删除文件夹

8 cp
功能:复制文件或者文件夹
复制文件夹需要加-r(cp -r);
9 mv
功能:移动文件或文件夹;

10 查看文件内容 
10-1cat 一次性将所有文件内容全部展示出来
cat 文件名
cat 路径/文件名

10-2 less 可以将文件内容分页展示
 
11 echo
	将指定内容输出到屏幕上
12 重定向
	'>':重定向 覆盖操作;
	'>>':重定向  追加;
	
13 tab 自动补全,连按两次会将所有匹配内容显示出来
```

### 3 vi编辑器

如同Windows下的记事本,vi编辑器是Linux下的标配,通过它我们可以创建,编辑文件.它是一个随系统一起安装的文本编辑软件

#### 3-1 三种模式

vi编辑器提供三种模式,分别是普通模式,命令模式,插入模式

```
1 命令模式
	:w 保存 :w filenme另存为
	:q 退出 :wq 保存并退出
	:e! 撤销更改,返回到上一次保存状态
	:q! 不保存强制退出
2 普通模式
	ZZ(大写)保存并退出
	u 撤销操作,可多次使用
	dd 删除当前行
	yy 复制当前行
	p 粘贴内容
	ctrl + f向前翻页
	ctrl + b向后翻页
	i 进入插入模式,当前光标处插入
	a 进入插入模式,当前光标后插入
	A 进入插入模式,光标移动到行尾
	I 进入插入模式,光标移动到行首
	o 进入插入模式,当前行下面插入行
	O 进入插入模式,当前行上面插入行
当我们处在插入模式的情况下,和我们在Windows编辑器的使用相似

```

### 4 版本控制

4-1 关于版本控制(Version Control Systems)是一种记录一个或若干文件内容变化,以便将来查阅特定版本修订的系统.这个系统可以自动帮我们备份文件的每一次更改,并且可以非常方便的恢复到任意的备份(版本)状态.

版本控制分类为本地版本控制系统,集中版本控制系统,分布式版本控制系统

4-2 本地版本控制系统, 功能比较单一,用于单人开发

4-3 集中式版本控制系统

它通过单一的集中管理的服务器,保存所有文件的修订版本,协同工作的开发者都通过客户端连到这台服务器,去除最新的文件或者提交更新

这种方式很好解决多人协同开发的问题,但是如果集中管理服务器出现故障,将会导致数据(版本)丢失的风险,另外协同开发者从集中服务器中更新数据时,严重依赖网络.

4-4 分布式版本控制系统(git);

分布式版本控制系统不需要中央服务器,每个协同开发者都拥有一个完整的版本库,这么以来,任何协同开发者用的服务器发生故障,事后都可以用其他协同开发者本地仓库恢复

由于版本库在本地计算机,以便不再受网络影响了.如果将本地的修改,推送给其他协同开发者,还需要一台共享服务器,所有开发者通过这台共享服务器同步和更新数据

### 5 git

#### 5-1 git工作原理

#### git管理文件的四种状态(未追踪,已提交,已修改,已暂存);

1 新添加一个文件之后,这个文件属于未追踪的状态 (未追踪);

2 将已经追踪的文件修改之后,这个文件属于已修改的状态(已修改);

3 将已经追踪的文件删除之后,这个文件属于已删除的状态(已删除);

4 将所有未追踪 已修改 已删除的文件进行一次 git add 操作之后,文件的状态会变成待提交状态(待提交/已暂存);

5 当执行一次 git commit 操作之后,所有的文件都会是已提交的状态(已提交);

#### git 项目的3个工作区域的概念

**git仓库**

是git用来保存项目的元数据和对象数据的地方,这是git中最重要的部分,从其他计算机克隆仓库时,拷贝的就是这里的数据

**工作目录**

是对项目的某个版本独立提取出来的内容,这些从git仓库的压缩数据库中提取出来的文件,放在磁盘上供你修改或使用

暂存区域是一个文件,保存了下次将提交的文件列表信息,还叫暂存区域

#### 基本的git工作流程如下:

1 在工作目录中修改文件

2 暂存文件,将文件的快照放入暂存区域

3 提交文件,找到暂存区域的文件,将快照永久存储到git仓库目录





### 6 **Git基础******

命令行方式：任意目录（建议开发根目录）右键 > Git Bash Here

**1、配置用户******

配置用户的意义在于记录开发者信息，以便在版本控制记录开发者的操作行为，如lion于2016-08-24解决了一个bug。

git config --global user.name "自已的名字"

git config --global user.email "自已的邮箱地址"

--global 配置当前用户所有仓库

注：配置用户只需要执行1次，可以重复使用。

**2、初始化仓库******

我们如果想要利用git进行版本控制，需要将现有项目初始化为一个仓库，或者将一个已有的使用git进行版本控制的仓库克隆到本地。

git init

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9214.tmp.jp隐藏目录就可以使用git来管理项目了，通过ls  -al 可以查看。

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9225.tmp.jpg) 

**3、查看文件状态******

初始化仓库后便可以进行开发了，进入到刚刚创建好并初始为仓库的目录，添加我们开发需要的文件。

通过git status可以检测当前仓库文件的状态（未追踪untracked）。

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9226.tmp.jpg) 

注：git会忽略空的目录

**4、添加文件到暂存区******

假设经过一段时间的开发后，需要把已开发的部分暂存起来等待提交，使用git add 添加到暂存区。

git add 文件名/ 文件路径 “*”或-A代表所有

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9236.tmp.jpg) 

通过git status再次查看文件状态，放到暂存区的文件被标记成了绿色，等待提交。

注：颜色是工具给添加的，目的是增加可读性并不是git统一的。

5、撤销更改

继续我们的开发，再次git status可以再次查看仓库状态

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9237.tmp.jpg) 

被标记了红色，说明index.html被再次修改了。

又经过一段时间后发现新开发的部分有Bug，想要回到之前状态，可以使用git checkout 文件名，将上次暂存的文件还原到工作区。

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9238.tmp.jpg) 

**5、提交文件******

经过一个相对较长阶段开发或者一个功能开发完成了，就可以提交到本地仓库了，永久保存了。

git commit -m '备注信息'

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps9249.tmp.jpg) 

将暂存区被标记成绿色的文件，全部提交到本地仓库存储。

这时git status查看状态

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps924A.tmp.jpg) 

没有什么可提交的，变的很干净。

**6、查看提交历史******

反反复复开发了很多的功能了，通过git log查看一下提交的历史。

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps925B.tmp.jpg) 

我们可以查看到一次次的提交记录

**7、再次检测仓库文件状态******

隔了好些天后，继续开发

git status 查看状态

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps925C.tmp.jpg) 

又提示有修改，等待重新添加到暂存区。

**8、重新添加暂存区然后提交******

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps925D.tmp.jpg) 

**9、再次查看历史******

git log 可查到所有提交历史

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps926D.tmp.jpg) 

这时可以查看到更多提交历史。

**10、恢复上以前提交的版本******

通过commit id值可以回到之前某一次的提交（时光倒流）

git reset --hard c888a614e072e2这样便回到了支付功能的状态

git log再次查看发现最后一次提交成了支付功能了

![img](file:///C:\Users\Administrator\AppData\Local\Temp\ksohtml\wps1D2.tmp.jpg) 


###分支
git中分支的作用和我们做的备份一个文件夹的功能一致,就是对于当前代码进行备份
####分支的使用
master主分支
1 创建分支
git branch 分支名
2 分支合并,合并到当前分支上
先切换到当前分支上
git merge 要合并分支的名称
3 删除分支(一般不使用)
git branch -d 分支名称
4 创建并且换分支
git checkout -b 分支名称
5 切换分支
git checkout 分支名
####冲突问题
分支A中和分支B中的文件名相同,冲突产生之后,合并会
败,需要先解决冲突,然后再提交,才能正常合并
####解决冲突
冲突产生之后,git会告知哪个文件冲突,然后在文件中,
会用>>>>====<<<这样的方式将冲突的内容标记出来,我
们只需要将标记删除,然后将代码改成自己想要的结果,
再次add commit即可

####分支使用原则
只要有新任务,就开辟一个新的分支去做,做完之后,将分
支合并回去就可以了
####master分支
这个分支是git自动创建的,在第一次提交完成后,才会默
认创建出来这个分支

####分支切换需要注意的事项
必须先将所有的更改,做一次提交之后,再切换分支

#### 回滚操作的恢复操作
1 查看所有的操作日志
```
git log -g
```
2 创建新的分支,将恢复到的版本号作为最后一个参数
```
git branch 分支名 版本号
```

###远程仓库
 
####远程仓库的作用
	就是共享版本库,共享代码
####远程仓库的创建
***远程仓库起始就是一个裸仓库***
####裸仓库
创建仓库
```
git init --bare

裸仓库创建完成之后,就不需要做任何操作了,在裸仓库
中不能进行任何的开发操作
```
####远程仓库的操作命令
1 给远程仓库推送内容
```
git push 远程仓库地址 本地分支名称:远程分支名称

如果本地分支名称和远程分支名称相同,那么可以缩写如
下:
git push xxx.xxx.git master:master
git push xxx.xxx.git master
```
2 获取远程仓库中的所有内容
```
git clone 远程仓库地址 文件夹名称

文件夹名称也可以不用写,默认使用就是远程仓库的文件
夹名称
```
3 获取远程仓库中更新的内容
```
git pull 远程仓库地址 分支名称
```
####注意:
只有在远程仓库中从未推送过任何内容的时候,我们才能
随意向里面推送任何内容

但是,一旦内容推送过一次内容了,那之后就不能随便的
向远程仓库推送内容了,能推送的,只能和第一次推送相
关的修改的内容

**每次在向远程仓库中推送新内容的时候,必须先进行一次获取更新内容的操作(pull),否则可能推送失败**
###远程仓库地址别名
